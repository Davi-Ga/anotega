"use strict";(self.webpackChunkanotega=self.webpackChunkanotega||[]).push([[193],{4174:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>i,contentTitle:()=>n,default:()=>m,frontMatter:()=>t,metadata:()=>c,toc:()=>d});var s=r(5893),o=r(1151);const t={sidebar_position:1},n="Abstract Factory",c={id:"Creational Patterns/abstract-factory",title:"Abstract Factory",description:'Define uma interface para criar fam\xedlias de objetos relacionados ou dependentes sem especificar suas classes concretas, o c\xf3digo cliente chama os m\xe9todos de cria\xe7\xe3o da f\xe1brica (Factory) em vez de criar objetos diretamente com uma instru\xe7\xe3o new. Como resultado disso, o c\xf3digo cliente trabalha com qualquer f\xe1brica concreta e com qualquer fam\xedlia de produtos, ou seja, em vez de criar os objetos diretamente, voc\xea chama m\xe9todos em uma "f\xe1brica" que cria os objetos para voc\xea. Isso significa que seu c\xf3digo pode trabalhar com qualquer grupo de objetos que a f\xe1brica pode criar.',source:"@site/docs/Creational Patterns/abstract-factory.md",sourceDirName:"Creational Patterns",slug:"/Creational Patterns/abstract-factory",permalink:"/anotega/docs/Creational Patterns/abstract-factory",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Creational Patterns/abstract-factory.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"anotacoesSidebar",previous:{title:"Creational Patterns",permalink:"/anotega/docs/category/creational-patterns"}},i={},d=[{value:"Implementa\xe7\xe3o",id:"implementa\xe7\xe3o",level:2},{value:"Exemplo",id:"exemplo",level:2}];function l(e){const a={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.h1,{id:"abstract-factory",children:"Abstract Factory"}),"\n",(0,s.jsxs)(a.p,{children:["Define uma ",(0,s.jsx)(a.strong,{children:"interface"})," para criar fam\xedlias de objetos relacionados ou dependentes ",(0,s.jsx)(a.em,{children:"sem especificar suas classes concretas"}),', o c\xf3digo cliente chama os m\xe9todos de cria\xe7\xe3o da f\xe1brica (Factory) em vez de criar objetos diretamente com uma instru\xe7\xe3o new. Como resultado disso, o c\xf3digo cliente trabalha com qualquer f\xe1brica concreta e com qualquer fam\xedlia de produtos, ou seja, em vez de criar os objetos diretamente, voc\xea chama m\xe9todos em uma "f\xe1brica" que cria os objetos para voc\xea. Isso significa que seu c\xf3digo pode trabalhar com qualquer grupo de objetos que a f\xe1brica pode criar.']}),"\n",(0,s.jsx)(a.admonition,{title:"Vantagens",type:"tip",children:(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.em,{children:"Principio da responsabilidade \xfanica:"})," Voc\xea pode mover a cria\xe7\xe3o de objetos de seu pr\xf3prio produto para um lugar \xfanico, tornando o c\xf3digo mais f\xe1cil de suportar."]}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.em,{children:"Principio da aberto/fechado:"})," Voc\xea pode introduzir novas variantes de produtos sem quebrar o c\xf3digo cliente existente."]}),"\n"]}),"\n"]})}),"\n",(0,s.jsx)(a.h2,{id:"implementa\xe7\xe3o",children:"Implementa\xe7\xe3o"}),"\n",(0,s.jsxs)(a.ol,{children:["\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"Crie um mapeamento entre os diferentes tipos de produtos e suas variantes."}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"Defina interfaces de produto abstratas para todos os tipos de produtos e fa\xe7a com que todas as classes de produtos concretos as implementem."}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"Defina a interface da f\xe1brica abstrata com um conjunto de m\xe9todos de cria\xe7\xe3o para todos os produtos abstratos."}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"Implemente um conjunto de classes de f\xe1brica concretas, uma para cada variante de produto."}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"Inicialize a f\xe1brica em algum lugar do aplicativo, instanciando uma das classes de f\xe1brica concretas com base na configura\xe7\xe3o do aplicativo ou no ambiente atual. Passe este objeto de f\xe1brica para todas as classes que constroem produtos."}),"\n"]}),"\n",(0,s.jsxs)(a.li,{children:["\n",(0,s.jsx)(a.p,{children:"Substitua todas as chamadas diretas para construtores de produtos por chamadas para o m\xe9todo de cria\xe7\xe3o apropriado no objeto de f\xe1brica."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(a.h2,{id:"exemplo",children:"Exemplo"}),"\n",(0,s.jsx)(a.p,{children:"Imagine que voc\xea ir\xe1 implementar um sistema de pagamento com base em uma API existente, na qual permite criar cart\xf5es, clientes e planos. Para isso, voc\xea precisa criar uma interface para cada tipo de produto e implementar uma classe concreta para cada variante de produto."}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-python",metastring:'title="factory.py"',children:"from abc import ABC, abstractmethod\nfrom django.conf import settings\n\n\nclass AbstractCreateFactory(ABC):\n    def __init__(self, user_profile=None, card_token=None, customer_id=None):\n        self.user_profile = user_profile\n        self.card_token = card_token\n        self.customer_id = customer_id\n\n    @abstractmethod\n    def create_customer(self):\n        pass\n    \n    @abstractmethod\n    def create_card(self):\n        pass\n\n\nclass APIFactory(AbstractCreateFactory):\n    def create_customer(self):\n        from features.subscription.services.api import APICreate\n\n        return APICreate(self.user_profile).create_customer()\n\n    def create_card(self):\n        from features.subscription.services.api import APICreate\n\n        return APICreate(self.card_token).create_card()\n"})}),"\n",(0,s.jsxs)(a.p,{children:["No c\xf3digo acima, temos a interface ",(0,s.jsx)(a.code,{children:"AbstractCreateFactory"})," que define os m\xe9todos de cria\xe7\xe3o de clientes e cart\xf5es, al\xe9m disso, temos a classe concreta ",(0,s.jsx)(a.code,{children:"APIFactory"})," que implementa os m\xe9todos de cria\xe7\xe3o de clientes e cart\xf5es, por\xe9m, n\xe3o \xe9 respons\xe1vel por criar os clientes e cart\xf5es, ela delega essa responsabilidade para a classe ",(0,s.jsx)(a.code,{children:"APICreate"})," que \xe9 respons\xe1vel por criar os clientes e cart\xf5es atrav\xe9s da API."]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-python",metastring:'title="api.py"',children:'import requests\nfrom requests.auth import HTTPBasicAuth\nfrom urllib.parse import urljoin\nfrom django.conf import settings\nfrom features.subscription.services import factory\nimport json\nimport json\n\n\nclass PagarMeCreate(factory.AbstractCreateFactory):\n    def __init__(self, user_profile):\n        super().__init__(user_profile)\n        self.username = settings.USERNAME\n\n    def to_dict(self):\n        return self.__dict__\n\n    \n    def create_customer(self):\n        url = settings.CUSTOMER_URL\n        data = {\n           #Todos os dados necess\xe1rios para criar um cliente\n        }\n        try:\n           #Toda a requisicao necess\xe1ria para criar um cliente\n        except requests.RequestException as e:\n            return {"error": e, "status": 500}\n    \n    def create_card(self):\n        url = settings.CARD_URL\n        data = {\n           #Todos os dados necess\xe1rios para criar um cart\xe3o\n        }\n        try:\n           #Toda a requisicao necess\xe1ria para criar um cart\xe3o\n        except requests.RequestException as e:\n            return {"error": e, "status": 500}\n'})}),"\n",(0,s.jsxs)(a.p,{children:["No c\xf3digo acima, temos a classe concreta ",(0,s.jsx)(a.code,{children:"PagarMeCreate"})," que implementa os m\xe9todos de cria\xe7\xe3o de clientes e cart\xf5es, al\xe9m disso, ela \xe9 respons\xe1vel por criar os clientes e cart\xf5es atrav\xe9s da API."]})]})}function m(e={}){const{wrapper:a}={...(0,o.a)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},1151:(e,a,r)=>{r.d(a,{Z:()=>c,a:()=>n});var s=r(7294);const o={},t=s.createContext(o);function n(e){const a=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function c(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:n(e.components),s.createElement(t.Provider,{value:a},e.children)}}}]);